var Enc=function(){this.toBinary=function(a){this.string="";this.char2bin=function(a){return a.charCodeAt(0).toString(2)+" "};for(var b=0;b<a.length;b++)this.string+=this.char2bin(a[b]);return this.string};this.fromBinary=function(a){this["char"]="";splitted_string=a.split(" ");this.bin2char=function(a){return String.fromCharCode(parseInt(a,2))};for(a=0;a<splitted_string.length;a++)this["char"]+=this.bin2char(splitted_string[a]);return this["char"]};this.keyGen=function(){return Math.floor(3E4*Math.random())};
this.in_array=function(a,b){return-1!=b.indexOf(a)?!0:!1};this.xor=function(a){return 0==a?1:0};this.encrypt=function(a){pek=this.keyGen();pek_arr=pek.toString().split("");cipher="";binary=this.toBinary(a);text=binary.split(" ");for(i=0;i<text.length;i++){string=text[i];for(a=0;a<string.length;a++)cipher=this.in_array(a,pek_arr)?cipher+string[a]:cipher+this.xor(string[a]);cipher=i<text.length-2?cipher+" ":cipher+""}return $return={pek:pek,cipher:cipher}};this.decrypt=function(a,b){binary="";pek_arr=
isNaN(b)?b.split(""):b.toString().split("");text=a.split(" ");for(i=0;i<text.length;i++){string=text[i];for(char=0;char<string.length;char++)binary=this.in_array(char,pek_arr)?binary+string[char]:binary+this.xor(string[char]);i<text.length-1&&(binary+=" ")}return plain=this.fromBinary(binary)}};